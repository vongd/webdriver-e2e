var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
import { BasePage, PageDecorator } from '../utils.js';
import { Notification as NotificationLocators } from '../../locators/1.73.0.js';
/**
 * Available types of notifications
 * @hidden
 */
export var NotificationType;
(function (NotificationType) {
    NotificationType["Info"] = "info";
    NotificationType["Warning"] = "warning";
    NotificationType["Error"] = "error";
    NotificationType["Any"] = "any";
})(NotificationType || (NotificationType = {}));
/**
 * Notification button
 *
 * @category Workbench
 */
class NotificationButton extends BasePage {
    constructor(locators, title) {
        super(locators, locators.Notification.buttonConstructor(title));
        /**
         * @private
         */
        this.locatorKey = 'Notification';
        this.title = title;
    }
    getTitle() {
        return this.title;
    }
}
/**
 * Abstract element representing a notification
 *
 * @category Workbench
 */
export class Notification extends BasePage {
    /**
     * Get the message of the notification
     * @returns Promise resolving to notification message
     */
    getMessage() {
        return this.message$.getText();
    }
    /**
     * Get the type of the notification
     * @returns Promise resolving to NotificationType
     */
    async getType() {
        const iconType = await this.icon$.getAttribute('class');
        if (iconType.indexOf('icon-info') > -1) {
            return NotificationType.Info;
        }
        if (iconType.indexOf('icon-warning') > -1) {
            return NotificationType.Warning;
        }
        return NotificationType.Error;
    }
    /**
     * Get the source of the notification as text
     * @returns Promise resolving to notification source
     */
    async getSource() {
        await this.expand();
        return this.source$.getAttribute('title');
    }
    /**
     * Find whether the notification has an active progress bar
     * @returns Promise resolving to true/false
     */
    async hasProgress() {
        const klass = await this.progress$.getAttribute('class');
        return klass.indexOf('done') < 0;
    }
    /**
     * Dismiss the notification
     * @returns Promise resolving when notification is dismissed
     */
    async dismiss() {
        const btn = await this.dismiss$;
        /**
         * make button interactable given they only contain
         * text on hover
         */
        await browser.execute((btnSection) => { btnSection.style.display = 'block'; }, await this.btnSection$);
        await btn.click();
    }
    /**
     * Get the action buttons of the notification as an array
     * of NotificationButton objects
     * @returns Promise resolving to array of NotificationButton objects
     */
    async getActions() {
        const buttons = [];
        const elements = await this.actions$
            .$$(this.locators.action);
        for (const button of elements) {
            buttons.push(await new NotificationButton(this.locatorMap, await button.getAttribute(this.locators.actionLabel)).wait());
        }
        return buttons;
    }
    /**
     * Click on an action button with the given title
     * @param title title of the action/button
     * @returns Promise resolving when the select button is pressed
     */
    async takeAction(title) {
        await new NotificationButton(this.locatorMap, title).elem.click();
    }
    /**
     * Expand the notification if possible
     */
    async expand() {
        await this.elem.moveTo();
        const exp = await this.expand$$;
        if (exp[0]) {
            await exp[0].click();
        }
    }
}
/**
 * Notification displayed on its own in the notifications-toasts container
 *
 * @category Workbench
 */
let StandaloneNotification = class StandaloneNotification extends Notification {
    constructor(locators, notification) {
        super(locators, notification, locators.Notification.standaloneContainer);
        /**
         * @private
         */
        this.locatorKey = 'Notification';
    }
};
StandaloneNotification = __decorate([
    PageDecorator(NotificationLocators)
], StandaloneNotification);
export { StandaloneNotification };
/**
 * Notification displayed within the notifications center
 *
 * @category Workbench
 */
let CenterNotification = class CenterNotification extends Notification {
    constructor() {
        super(...arguments);
        /**
         * @private
         */
        this.locatorKey = 'Notification';
    }
};
CenterNotification = __decorate([
    PageDecorator(NotificationLocators)
], CenterNotification);
export { CenterNotification };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTm90aWZpY2F0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3BhZ2VvYmplY3RzL3dvcmtiZW5jaC9Ob3RpZmljYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsT0FBTyxFQUNILFFBQVEsRUFBa0IsYUFBYSxFQUMxQyxNQUFNLGFBQWEsQ0FBQTtBQUNwQixPQUFPLEVBQUUsWUFBWSxJQUFJLG9CQUFvQixFQUFFLE1BQU0sMEJBQTBCLENBQUE7QUFFL0U7OztHQUdHO0FBQ0gsTUFBTSxDQUFOLElBQVksZ0JBS1g7QUFMRCxXQUFZLGdCQUFnQjtJQUN4QixpQ0FBYSxDQUFBO0lBQ2IsdUNBQW1CLENBQUE7SUFDbkIsbUNBQWUsQ0FBQTtJQUNmLCtCQUFXLENBQUE7QUFDZixDQUFDLEVBTFcsZ0JBQWdCLEtBQWhCLGdCQUFnQixRQUszQjtBQUdEOzs7O0dBSUc7QUFDSCxNQUFNLGtCQUFtQixTQUFRLFFBQXFDO0lBUWxFLFlBQ0ksUUFBMEIsRUFDMUIsS0FBYTtRQUViLEtBQUssQ0FBQyxRQUFRLEVBQUcsUUFBUSxDQUFDLFlBQVksQ0FBQyxpQkFBOEIsQ0FBQyxLQUFLLENBQVcsQ0FBQyxDQUFBO1FBWDNGOztXQUVHO1FBQ0ksZUFBVSxHQUFHLGNBQXVCLENBQUE7UUFTdkMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUE7SUFDdEIsQ0FBQztJQUVELFFBQVE7UUFDSixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUE7SUFDckIsQ0FBQztDQUNKO0FBR0Q7Ozs7R0FJRztBQUNILE1BQU0sT0FBZ0IsWUFBYSxTQUFRLFFBQXFDO0lBQzVFOzs7T0FHRztJQUNILFVBQVU7UUFDTixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDbEMsQ0FBQztJQUVEOzs7T0FHRztJQUNILEtBQUssQ0FBQyxPQUFPO1FBQ1QsTUFBTSxRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUMsS0FB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QUF1QixDQUFBO0lBTzNDLENBQUM7Q0FDSixDQUFBO0FBWlksc0JBQXNCO0lBRGxDLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQztHQUN2QixzQkFBc0IsQ0FZbEM7U0FaWSxzQkFBc0I7QUFjbkM7Ozs7R0FJRztBQUVJLElBQU0sa0JBQWtCLEdBQXhCLE1BQU0sa0JBQW1CLFNBQVEsWUFBWTtJQUE3Qzs7UUFDSDs7V0FFRztRQUNJLGVBQVUsR0FBRyxjQUF1QixDQUFBO0lBQy9DLENBQUM7Q0FBQSxDQUFBO0FBTFksa0JBQWtCO0lBRDlCLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQztHQUN2QixrQkFBa0IsQ0FLOUI7U0FMWSxrQkFBa0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFpbmFibGVQcm9taXNlRWxlbWVudCB9IGZyb20gJ3dlYmRyaXZlcmlvJ1xuaW1wb3J0IHtcbiAgICBCYXNlUGFnZSwgSVBhZ2VEZWNvcmF0b3IsIFBhZ2VEZWNvcmF0b3IsIFZTQ29kZUxvY2F0b3JNYXBcbn0gZnJvbSAnLi4vdXRpbHMuanMnXG5pbXBvcnQgeyBOb3RpZmljYXRpb24gYXMgTm90aWZpY2F0aW9uTG9jYXRvcnMgfSBmcm9tICcuLi8uLi9sb2NhdG9ycy8xLjczLjAuanMnXG5cbi8qKlxuICogQXZhaWxhYmxlIHR5cGVzIG9mIG5vdGlmaWNhdGlvbnNcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGVudW0gTm90aWZpY2F0aW9uVHlwZSB7XG4gICAgSW5mbyA9ICdpbmZvJyxcbiAgICBXYXJuaW5nID0gJ3dhcm5pbmcnLFxuICAgIEVycm9yID0gJ2Vycm9yJyxcbiAgICBBbnkgPSAnYW55J1xufVxuXG5pbnRlcmZhY2UgTm90aWZpY2F0aW9uQnV0dG9uIGV4dGVuZHMgSVBhZ2VEZWNvcmF0b3I8dHlwZW9mIE5vdGlmaWNhdGlvbkxvY2F0b3JzPiB7fVxuLyoqXG4gKiBOb3RpZmljYXRpb24gYnV0dG9uXG4gKlxuICogQGNhdGVnb3J5IFdvcmtiZW5jaFxuICovXG5jbGFzcyBOb3RpZmljYXRpb25CdXR0b24gZXh0ZW5kcyBCYXNlUGFnZTx0eXBlb2YgTm90aWZpY2F0aW9uTG9jYXRvcnM+IHtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBsb2NhdG9yS2V5ID0gJ05vdGlmaWNhdGlvbicgYXMgY29uc3RcblxuICAgIHByaXZhdGUgdGl0bGU6IHN0cmluZ1xuXG4gICAgY29uc3RydWN0b3IgKFxuICAgICAgICBsb2NhdG9yczogVlNDb2RlTG9jYXRvck1hcCxcbiAgICAgICAgdGl0bGU6IHN0cmluZ1xuICAgICkge1xuICAgICAgICBzdXBlcihsb2NhdG9ycywgKGxvY2F0b3JzLk5vdGlmaWNhdGlvbi5idXR0b25Db25zdHJ1Y3RvciBhcyBGdW5jdGlvbikodGl0bGUpIGFzIHN0cmluZylcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlXG4gICAgfVxuXG4gICAgZ2V0VGl0bGUgKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpdGxlXG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vdGlmaWNhdGlvbiBleHRlbmRzIElQYWdlRGVjb3JhdG9yPHR5cGVvZiBOb3RpZmljYXRpb25Mb2NhdG9ycz4ge31cbi8qKlxuICogQWJzdHJhY3QgZWxlbWVudCByZXByZXNlbnRpbmcgYSBub3RpZmljYXRpb25cbiAqXG4gKiBAY2F0ZWdvcnkgV29ya2JlbmNoXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBOb3RpZmljYXRpb24gZXh0ZW5kcyBCYXNlUGFnZTx0eXBlb2YgTm90aWZpY2F0aW9uTG9jYXRvcnM+IHtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1lc3NhZ2Ugb2YgdGhlIG5vdGlmaWNhdGlvblxuICAgICAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIG5vdGlmaWNhdGlvbiBtZXNzYWdlXG4gICAgICovXG4gICAgZ2V0TWVzc2FnZSAoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZSQuZ2V0VGV4dCgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0eXBlIG9mIHRoZSBub3RpZmljYXRpb25cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byBOb3RpZmljYXRpb25UeXBlXG4gICAgICovXG4gICAgYXN5bmMgZ2V0VHlwZSAoKTogUHJvbWlzZTxOb3RpZmljYXRpb25UeXBlPiB7XG4gICAgICAgIGNvbnN0IGljb25UeXBlID0gYXdhaXQgdGhpcy5pY29uJC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJylcbiAgICAgICAgaWYgKGljb25UeXBlLmluZGV4T2YoJ2ljb24taW5mbycpID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBOb3RpZmljYXRpb25UeXBlLkluZm9cbiAgICAgICAgfSBpZiAoaWNvblR5cGUuaW5kZXhPZignaWNvbi13YXJuaW5nJykgPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvblR5cGUuV2FybmluZ1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOb3RpZmljYXRpb25UeXBlLkVycm9yXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzb3VyY2Ugb2YgdGhlIG5vdGlmaWNhdGlvbiBhcyB0ZXh0XG4gICAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gbm90aWZpY2F0aW9uIHNvdXJjZVxuICAgICAqL1xuICAgIGFzeW5jIGdldFNvdXJjZSAoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5leHBhbmQoKVxuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2UkLmdldEF0dHJpYnV0ZSgndGl0bGUnKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgd2hldGhlciB0aGUgbm90aWZpY2F0aW9uIGhhcyBhbiBhY3RpdmUgcHJvZ3Jlc3MgYmFyXG4gICAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdHJ1ZS9mYWxzZVxuICAgICAqL1xuICAgIGFzeW5jIGhhc1Byb2dyZXNzICgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3Qga2xhc3MgPSBhd2FpdCB0aGlzLnByb2dyZXNzJC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJylcbiAgICAgICAgcmV0dXJuIGtsYXNzLmluZGV4T2YoJ2RvbmUnKSA8IDBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNtaXNzIHRoZSBub3RpZmljYXRpb25cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB3aGVuIG5vdGlmaWNhdGlvbiBpcyBkaXNtaXNzZWRcbiAgICAgKi9cbiAgICBhc3luYyBkaXNtaXNzICgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgYnRuID0gYXdhaXQgdGhpcy5kaXNtaXNzJFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtYWtlIGJ1dHRvbiBpbnRlcmFjdGFibGUgZ2l2ZW4gdGhleSBvbmx5IGNvbnRhaW5cbiAgICAgICAgICogdGV4dCBvbiBob3ZlclxuICAgICAgICAgKi9cbiAgICAgICAgYXdhaXQgYnJvd3Nlci5leGVjdXRlKFxuICAgICAgICAgICAgKGJ0blNlY3Rpb24pID0+IHsgYnRuU2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJyB9LFxuICAgICAgICAgICAgYXdhaXQgdGhpcy5idG5TZWN0aW9uJCBhcyBhbnkgYXMgSFRNTExpbmtFbGVtZW50XG4gICAgICAgIClcblxuICAgICAgICBhd2FpdCBidG4uY2xpY2soKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYWN0aW9uIGJ1dHRvbnMgb2YgdGhlIG5vdGlmaWNhdGlvbiBhcyBhbiBhcnJheVxuICAgICAqIG9mIE5vdGlmaWNhdGlvbkJ1dHRvbiBvYmplY3RzXG4gICAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gYXJyYXkgb2YgTm90aWZpY2F0aW9uQnV0dG9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBhc3luYyBnZXRBY3Rpb25zICgpOiBQcm9taXNlPE5vdGlmaWNhdGlvbkJ1dHRvbltdPiB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbnM6IE5vdGlmaWNhdGlvbkJ1dHRvbltdID0gW11cbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBhd2FpdCB0aGlzLmFjdGlvbnMkXG4gICAgICAgICAgICAuJCQodGhpcy5sb2NhdG9ycy5hY3Rpb24pXG5cbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGJ1dHRvbnMucHVzaChhd2FpdCBuZXcgTm90aWZpY2F0aW9uQnV0dG9uKFxuICAgICAgICAgICAgICAgIHRoaXMubG9jYXRvck1hcCxcbiAgICAgICAgICAgICAgICBhd2FpdCBidXR0b24uZ2V0QXR0cmlidXRlKHRoaXMubG9jYXRvcnMuYWN0aW9uTGFiZWwpXG4gICAgICAgICAgICApLndhaXQoKSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnV0dG9uc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsaWNrIG9uIGFuIGFjdGlvbiBidXR0b24gd2l0aCB0aGUgZ2l2ZW4gdGl0bGVcbiAgICAgKiBAcGFyYW0gdGl0bGUgdGl0bGUgb2YgdGhlIGFjdGlvbi9idXR0b25cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB3aGVuIHRoZSBzZWxlY3QgYnV0dG9uIGlzIHByZXNzZWRcbiAgICAgKi9cbiAgICBhc3luYyB0YWtlQWN0aW9uICh0aXRsZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IG5ldyBOb3RpZmljYXRpb25CdXR0b24oXG4gICAgICAgICAgICB0aGlzLmxvY2F0b3JNYXAsXG4gICAgICAgICAgICB0aXRsZVxuICAgICAgICApLmVsZW0uY2xpY2soKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4cGFuZCB0aGUgbm90aWZpY2F0aW9uIGlmIHBvc3NpYmxlXG4gICAgICovXG4gICAgYXN5bmMgZXhwYW5kICgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5lbGVtLm1vdmVUbygpXG4gICAgICAgIGNvbnN0IGV4cCA9IGF3YWl0IHRoaXMuZXhwYW5kJCRcbiAgICAgICAgaWYgKGV4cFswXSkge1xuICAgICAgICAgICAgYXdhaXQgZXhwWzBdLmNsaWNrKClcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBOb3RpZmljYXRpb24gZGlzcGxheWVkIG9uIGl0cyBvd24gaW4gdGhlIG5vdGlmaWNhdGlvbnMtdG9hc3RzIGNvbnRhaW5lclxuICpcbiAqIEBjYXRlZ29yeSBXb3JrYmVuY2hcbiAqL1xuQFBhZ2VEZWNvcmF0b3IoTm90aWZpY2F0aW9uTG9jYXRvcnMpXG5leHBvcnQgY2xhc3MgU3RhbmRhbG9uZU5vdGlmaWNhdGlvbiBleHRlbmRzIE5vdGlmaWNhdGlvbiB7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgbG9jYXRvcktleSA9ICdOb3RpZmljYXRpb24nIGFzIGNvbnN0XG5cbiAgICBjb25zdHJ1Y3RvciAoXG4gICAgICAgIGxvY2F0b3JzOiBWU0NvZGVMb2NhdG9yTWFwLFxuICAgICAgICBub3RpZmljYXRpb246IENoYWluYWJsZVByb21pc2VFbGVtZW50PFdlYmRyaXZlcklPLkVsZW1lbnQ+XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKGxvY2F0b3JzLCBub3RpZmljYXRpb24sIGxvY2F0b3JzLk5vdGlmaWNhdGlvbi5zdGFuZGFsb25lQ29udGFpbmVyIGFzIHN0cmluZylcbiAgICB9XG59XG5cbi8qKlxuICogTm90aWZpY2F0aW9uIGRpc3BsYXllZCB3aXRoaW4gdGhlIG5vdGlmaWNhdGlvbnMgY2VudGVyXG4gKlxuICogQGNhdGVnb3J5IFdvcmtiZW5jaFxuICovXG5AUGFnZURlY29yYXRvcihOb3RpZmljYXRpb25Mb2NhdG9ycylcbmV4cG9ydCBjbGFzcyBDZW50ZXJOb3RpZmljYXRpb24gZXh0ZW5kcyBOb3RpZmljYXRpb24ge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIGxvY2F0b3JLZXkgPSAnTm90aWZpY2F0aW9uJyBhcyBjb25zdFxufVxuIl19