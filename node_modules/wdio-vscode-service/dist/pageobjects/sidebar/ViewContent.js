var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
import { SideBarView } from '../index.js';
import { DefaultTreeSection } from './tree/default/DefaultTreeSection.js';
import { CustomTreeSection } from './tree/custom/CustomTreeSection.js';
import { ExtensionsViewSection } from './extensions/ExtensionsViewSection.js';
import { PageDecorator, BasePage } from '../utils.js';
import { ViewContent as ViewContentLocators } from '../../locators/1.73.0.js';
/**
 * Page object representing the view container of a side bar view
 *
 * @category Sidebar
 */
let ViewContent = class ViewContent extends BasePage {
    constructor(locators, view = new SideBarView(locators)) {
        super(locators, view.elem);
        this.view = view;
        /**
         * @private
         */
        this.locatorKey = 'ViewContent';
    }
    /**
     * Finds whether a progress bar is active at the top of the view
     * @returns Promise resolving to true/false
     */
    async hasProgress() {
        const hidden = await this.progress$.getAttribute('aria-hidden');
        if (hidden === 'true') {
            return false;
        }
        return true;
    }
    /**
     * Retrieves a collapsible view content section by its title
     * @param title Title of the section
     * @returns Promise resolving to ViewSection object
     */
    async getSection(title) {
        const elements = await this.section$$;
        let panel;
        const availableSections = new Set();
        for (const element of elements) {
            const sectionTitle = await element.$(this.locators.sectionTitle).getText();
            availableSections.add(sectionTitle);
            if (sectionTitle === title) {
                panel = element;
                break;
            }
        }
        if (!panel) {
            throw new Error(`No section with title '${title}' found, `
                + `available are: ${[...availableSections].join(', ')}`);
        }
        return this.createSection(panel);
    }
    /**
     * Retrieves all the collapsible view content sections
     * @returns Promise resolving to array of ViewSection objects
     */
    async getSections() {
        const sections = [];
        const elements = await this.section$$;
        for (const element of elements) {
            const section = await this.createSection(element);
            sections.push(await section.wait());
        }
        return sections;
    }
    async createSection(panel) {
        const section = new DefaultTreeSection(this.locatorMap, 
        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
        panel, this);
        if (await section.elem.$(this.locators.defaultView).isExisting()) {
            return section;
        }
        if (await section.elem.$(this.locators.extensionsView).isExisting()) {
            return new ExtensionsViewSection(this.locatorMap, 
            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
            panel, this);
        }
        return new CustomTreeSection(this.locatorMap, 
        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument
        panel, this);
    }
};
ViewContent = __decorate([
    PageDecorator(ViewContentLocators)
], ViewContent);
export { ViewContent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVmlld0NvbnRlbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcGFnZW9iamVjdHMvc2lkZWJhci9WaWV3Q29udGVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFlLE1BQU0sYUFBYSxDQUFBO0FBQ3RELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHNDQUFzQyxDQUFBO0FBQ3pFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLG9DQUFvQyxDQUFBO0FBQ3RFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHVDQUF1QyxDQUFBO0FBQzdFLE9BQU8sRUFDSCxhQUFhLEVBQWtCLFFBQVEsRUFDMUMsTUFBTSxhQUFhLENBQUE7QUFDcEIsT0FBTyxFQUFFLFdBQVcsSUFBSSxtQkFBbUIsRUFBRSxNQUFNLDBCQUEwQixDQUFBO0FBRzdFOzs7O0dBSUc7QUFFSSxJQUFNLFdBQVcsR0FBakIsTUFBTSxXQUFZLFNBQVEsUUFBb0M7SUFNakUsWUFDSSxRQUEwQixFQUNuQixPQUF5QixJQUFJLFdBQVcsQ0FBQyxRQUFRLENBQUM7UUFFekQsS0FBSyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFGbkIsU0FBSSxHQUFKLElBQUksQ0FBOEM7UUFQN0Q7O1dBRUc7UUFDSSxlQUFVLEdBQUcsYUFBc0IsQ0FBQTtJQU8xQyxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsS0FBSyxDQUFDLFdBQVc7UUFDYixNQUFNLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxDQUFBO1FBQy9ELElBQUksTUFBTSxLQUFLLE1BQU0sRUFBRTtZQUNuQixPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsT0FBTyxJQUFJLENBQUE7SUFDZixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILEtBQUssQ0FBQyxVQUFVLENBQUUsS0FBYTtRQUMzQixNQUFNLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQyxTQUFTLENBQUE7UUFDckMsSUFBSSxLQUEyQixDQUFBO1FBRS9CLE1BQU0saUJBQWlCLEdBQWdCLElBQUksR0FBRyxFQUFFLENBQUE7UUFDaEQsS0FBSyxNQUFNLE9BQU8sSUFBSSxRQUFRLEVBQUU7WUFDNUIsTUFBTSxZQUFZLEdBQUcsTUFBTSxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUE7WUFDMUUsaUJBQWlCLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFBO1lBQ25DLElBQUksWUFBWSxLQUFLLEtBQUssRUFBRTtnQkFDeEIsS0FBSyxHQUFHLE9BQU8sQ0FBQTtnQkFDZixNQUFLO2FBQ1I7U0FDSjtRQUNELElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDUixNQUFNLElBQUksS0FBSyxDQUNYLDBCQUEwQixLQUFLLFdBQVc7a0JBQ3hDLGtCQUFrQixDQUFDLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FDMUQsQ0FBQTtTQUNKO1FBQ0QsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQ3BDLENBQUM7SUFFRDs7O09BR0c7SUFDSCxLQUFLLENBQUMsV0FBVztRQUNiLE1BQU0sUUFBUSxHQUFrQixFQUFFLENBQUE7UUFDbEMsTUFBTSxRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUMsU0FBUyxDQUFBO1FBQ3JDLEtBQUssTUFBTSxPQUFPLElBQUksUUFBUSxFQUFFO1lBQzVCLE1BQU0sT0FBTyxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUNqRCxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUE7U0FDdEM7UUFDRCxPQUFPLFFBQVEsQ0FBQTtJQUNuQixDQUFDO0lBRU8sS0FBSyxDQUFDLGFBQWEsQ0FBRSxLQUEwQjtRQUNuRCxNQUFNLE9BQU8sR0FBZ0IsSUFBSSxrQkFBa0IsQ0FDL0MsSUFBSSxDQUFDLFVBQVU7UUFDZixpRUFBaUU7UUFDakUsS0FBWSxFQUNaLElBQUksQ0FDUCxDQUFBO1FBRUQsSUFBSSxNQUFNLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsVUFBVSxFQUFFLEVBQUU7WUFDOUQsT0FBTyxPQUFPLENBQUE7U0FDakI7UUFDRCxJQUFJLE1BQU0sT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRTtZQUNqRSxPQUFPLElBQUkscUJBQXFCLENBQzVCLElBQUksQ0FBQyxVQUFVO1lBQ2YsaUVBQWlFO1lBQ2pFLEtBQVksRUFDWixJQUFJLENBQ1AsQ0FBQTtTQUNKO1FBRUQsT0FBTyxJQUFJLGlCQUFpQixDQUN4QixJQUFJLENBQUMsVUFBVTtRQUNmLGlFQUFpRTtRQUNqRSxLQUFZLEVBQ1osSUFBSSxDQUNQLENBQUE7SUFDTCxDQUFDO0NBQ0osQ0FBQTtBQTdGWSxXQUFXO0lBRHZCLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQztHQUN0QixXQUFXLENBNkZ2QjtTQTdGWSxXQUFXIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2lkZUJhclZpZXcsIFZpZXdTZWN0aW9uIH0gZnJvbSAnLi4vaW5kZXguanMnXG5pbXBvcnQgeyBEZWZhdWx0VHJlZVNlY3Rpb24gfSBmcm9tICcuL3RyZWUvZGVmYXVsdC9EZWZhdWx0VHJlZVNlY3Rpb24uanMnXG5pbXBvcnQgeyBDdXN0b21UcmVlU2VjdGlvbiB9IGZyb20gJy4vdHJlZS9jdXN0b20vQ3VzdG9tVHJlZVNlY3Rpb24uanMnXG5pbXBvcnQgeyBFeHRlbnNpb25zVmlld1NlY3Rpb24gfSBmcm9tICcuL2V4dGVuc2lvbnMvRXh0ZW5zaW9uc1ZpZXdTZWN0aW9uLmpzJ1xuaW1wb3J0IHtcbiAgICBQYWdlRGVjb3JhdG9yLCBJUGFnZURlY29yYXRvciwgQmFzZVBhZ2UsIFZTQ29kZUxvY2F0b3JNYXBcbn0gZnJvbSAnLi4vdXRpbHMuanMnXG5pbXBvcnQgeyBWaWV3Q29udGVudCBhcyBWaWV3Q29udGVudExvY2F0b3JzIH0gZnJvbSAnLi4vLi4vbG9jYXRvcnMvMS43My4wLmpzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFZpZXdDb250ZW50IGV4dGVuZHMgSVBhZ2VEZWNvcmF0b3I8dHlwZW9mIFZpZXdDb250ZW50TG9jYXRvcnM+IHsgfVxuLyoqXG4gKiBQYWdlIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHZpZXcgY29udGFpbmVyIG9mIGEgc2lkZSBiYXIgdmlld1xuICpcbiAqIEBjYXRlZ29yeSBTaWRlYmFyXG4gKi9cbkBQYWdlRGVjb3JhdG9yKFZpZXdDb250ZW50TG9jYXRvcnMpXG5leHBvcnQgY2xhc3MgVmlld0NvbnRlbnQgZXh0ZW5kcyBCYXNlUGFnZTx0eXBlb2YgVmlld0NvbnRlbnRMb2NhdG9ycz4ge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIGxvY2F0b3JLZXkgPSAnVmlld0NvbnRlbnQnIGFzIGNvbnN0XG5cbiAgICBjb25zdHJ1Y3RvciAoXG4gICAgICAgIGxvY2F0b3JzOiBWU0NvZGVMb2NhdG9yTWFwLFxuICAgICAgICBwdWJsaWMgdmlldzogU2lkZUJhclZpZXc8YW55PiA9IG5ldyBTaWRlQmFyVmlldyhsb2NhdG9ycylcbiAgICApIHtcbiAgICAgICAgc3VwZXIobG9jYXRvcnMsIHZpZXcuZWxlbSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB3aGV0aGVyIGEgcHJvZ3Jlc3MgYmFyIGlzIGFjdGl2ZSBhdCB0aGUgdG9wIG9mIHRoZSB2aWV3XG4gICAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdHJ1ZS9mYWxzZVxuICAgICAqL1xuICAgIGFzeW5jIGhhc1Byb2dyZXNzICgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgaGlkZGVuID0gYXdhaXQgdGhpcy5wcm9ncmVzcyQuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpXG4gICAgICAgIGlmIChoaWRkZW4gPT09ICd0cnVlJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBjb2xsYXBzaWJsZSB2aWV3IGNvbnRlbnQgc2VjdGlvbiBieSBpdHMgdGl0bGVcbiAgICAgKiBAcGFyYW0gdGl0bGUgVGl0bGUgb2YgdGhlIHNlY3Rpb25cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byBWaWV3U2VjdGlvbiBvYmplY3RcbiAgICAgKi9cbiAgICBhc3luYyBnZXRTZWN0aW9uICh0aXRsZTogc3RyaW5nKTogUHJvbWlzZTxWaWV3U2VjdGlvbj4ge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IGF3YWl0IHRoaXMuc2VjdGlvbiQkXG4gICAgICAgIGxldCBwYW5lbCE6IFdlYmRyaXZlcklPLkVsZW1lbnRcblxuICAgICAgICBjb25zdCBhdmFpbGFibGVTZWN0aW9uczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KClcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uVGl0bGUgPSBhd2FpdCBlbGVtZW50LiQodGhpcy5sb2NhdG9ycy5zZWN0aW9uVGl0bGUpLmdldFRleHQoKVxuICAgICAgICAgICAgYXZhaWxhYmxlU2VjdGlvbnMuYWRkKHNlY3Rpb25UaXRsZSlcbiAgICAgICAgICAgIGlmIChzZWN0aW9uVGl0bGUgPT09IHRpdGxlKSB7XG4gICAgICAgICAgICAgICAgcGFuZWwgPSBlbGVtZW50XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhbmVsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgYE5vIHNlY3Rpb24gd2l0aCB0aXRsZSAnJHt0aXRsZX0nIGZvdW5kLCBgXG4gICAgICAgICAgICAgICAgKyBgYXZhaWxhYmxlIGFyZTogJHtbLi4uYXZhaWxhYmxlU2VjdGlvbnNdLmpvaW4oJywgJyl9YFxuICAgICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNlY3Rpb24ocGFuZWwpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGFsbCB0aGUgY29sbGFwc2libGUgdmlldyBjb250ZW50IHNlY3Rpb25zXG4gICAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gYXJyYXkgb2YgVmlld1NlY3Rpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIGFzeW5jIGdldFNlY3Rpb25zICgpOiBQcm9taXNlPFZpZXdTZWN0aW9uW10+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbnM6IFZpZXdTZWN0aW9uW10gPSBbXVxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IGF3YWl0IHRoaXMuc2VjdGlvbiQkXG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGF3YWl0IHRoaXMuY3JlYXRlU2VjdGlvbihlbGVtZW50KVxuICAgICAgICAgICAgc2VjdGlvbnMucHVzaChhd2FpdCBzZWN0aW9uLndhaXQoKSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VjdGlvbnNcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGNyZWF0ZVNlY3Rpb24gKHBhbmVsOiBXZWJkcml2ZXJJTy5FbGVtZW50KTogUHJvbWlzZTxWaWV3U2VjdGlvbj4ge1xuICAgICAgICBjb25zdCBzZWN0aW9uOiBWaWV3U2VjdGlvbiA9IG5ldyBEZWZhdWx0VHJlZVNlY3Rpb24oXG4gICAgICAgICAgICB0aGlzLmxvY2F0b3JNYXAsXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hcmd1bWVudFxuICAgICAgICAgICAgcGFuZWwgYXMgYW55LFxuICAgICAgICAgICAgdGhpc1xuICAgICAgICApXG5cbiAgICAgICAgaWYgKGF3YWl0IHNlY3Rpb24uZWxlbS4kKHRoaXMubG9jYXRvcnMuZGVmYXVsdFZpZXcpLmlzRXhpc3RpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25cbiAgICAgICAgfVxuICAgICAgICBpZiAoYXdhaXQgc2VjdGlvbi5lbGVtLiQodGhpcy5sb2NhdG9ycy5leHRlbnNpb25zVmlldykuaXNFeGlzdGluZygpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEV4dGVuc2lvbnNWaWV3U2VjdGlvbihcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2F0b3JNYXAsXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXJndW1lbnRcbiAgICAgICAgICAgICAgICBwYW5lbCBhcyBhbnksXG4gICAgICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBDdXN0b21UcmVlU2VjdGlvbihcbiAgICAgICAgICAgIHRoaXMubG9jYXRvck1hcCxcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFyZ3VtZW50XG4gICAgICAgICAgICBwYW5lbCBhcyBhbnksXG4gICAgICAgICAgICB0aGlzXG4gICAgICAgIClcbiAgICB9XG59XG4iXX0=